<template>
  <svg
    class="h-12"
    viewBox="0 0 12 12"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M5.87144 10.2209C5.90593 10.2014 5.94487 10.1911 5.98449 10.1911C6.0241 10.1911 6.06304 10.2014 6.09753 10.2209L8.97026 11.8376C9.18724 11.9628 9.43851 12.0154 9.68747 11.9878C9.93643 11.9603 10.1701 11.854 10.3545 11.6845C10.5389 11.5213 10.6666 11.3037 10.719 11.0631C10.7715 10.8225 10.7459 10.5715 10.6461 10.3464L9.52118 7.75142C9.50174 7.70693 9.4969 7.65742 9.50734 7.61001C9.51779 7.56259 9.54298 7.5197 9.57932 7.48749L11.6206 5.66862C11.7881 5.5083 11.9039 5.30163 11.9532 5.07508C12.0025 4.84854 11.9831 4.61243 11.8974 4.39699C11.8102 4.18393 11.6604 4.00237 11.4678 3.87632C11.2752 3.75026 11.0488 3.68565 10.8187 3.69103H8.51162C8.46649 3.69111 8.42233 3.67795 8.3846 3.65318C8.34687 3.62842 8.31724 3.59313 8.29937 3.55169L7.05911 0.676195L7.04803 0.650356C6.94678 0.452389 6.79226 0.286626 6.60188 0.171739C6.4115 0.0568507 6.19282 -0.00259863 5.97048 8.7136e-05C5.74814 0.0027729 5.53096 0.067487 5.34341 0.18694C5.15586 0.306393 5.00539 0.47584 4.90895 0.676195L3.66776 3.55076C3.64989 3.5922 3.62026 3.62749 3.58253 3.65226C3.54481 3.67703 3.50064 3.69019 3.45551 3.69011H1.14848C0.919223 3.68441 0.693636 3.7484 0.50152 3.87362C0.309403 3.99884 0.159799 4.1794 0.0724729 4.39145C-0.0147974 4.61131 -0.033381 4.85246 0.0191718 5.0831C0.0717245 5.31374 0.192946 5.52304 0.366851 5.68339L2.39151 7.48749C2.4276 7.51987 2.45263 7.56275 2.46306 7.6101C2.47349 7.65745 2.4688 7.70688 2.44965 7.75142L1.32104 10.3491C1.22034 10.5741 1.19414 10.8253 1.24627 11.0662C1.29839 11.3071 1.42611 11.525 1.61081 11.6881C1.79584 11.8586 2.03051 11.9653 2.28054 11.9929C2.53057 12.0205 2.78286 11.9674 3.00057 11.8413L5.87144 10.2209Z"
      :fill="percentage === 1 ?
        'url(#full-star)' :
        percentage !== 0 ?
          `url(#percentage-star-${starId})` : '#1F234830'"
    />
    <defs>
      <radialGradient
        id="full-star"
        cx="0"
        cy="0"
        r="1"
        gradientUnits="userSpaceOnUse"
        gradientTransform="translate(11.9799 12) rotate(-180) scale(11.9899 12)"
      >
        <stop stop-color="#EC991C" />
        <stop offset="1" stop-color="#E9B213" />
      </radialGradient>
      <linearGradient :id="'percentage-star-' + starId">
        <stop :offset="Math.ceil(percentage * 100) + '%'" stop-color="#E9B213" />
        <stop :offset="Math.ceil(percentage * 100) + '%'" stop-color="#1F234830" />
      </linearGradient>
    </defs>
  </svg>
</template>

<script lang="ts" setup>
defineProps({
  fill: {
    type: String,
    default: 'full'
  },
  percentage: {
    type: Number,
    default: 1
  }
})
const instance = getCurrentInstance()
const starId = ref(instance!.uid)

</script>

<style>

</style>
